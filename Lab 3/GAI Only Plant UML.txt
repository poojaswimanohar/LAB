@startuml
title AI-Enhanced Quiz Grading Workflow (with Feedback & Manual Review)

skinparam backgroundColor white
skinparam shadowing false
skinparam activity {
BackgroundColor White
BorderColor Black
FontSize 11
}
skinparam note {
BackgroundColor #FEFBEA
BorderColor #CCCC99
}

start
:Quiz Grading Process\nInitiated;

partition "Submission & Collection" {
:Student Submits Quiz;
:Collect Student Responses;
note right
Raw answers are collected\nand stored in the repository.
end note
:Save Raw Answers to Database;
}

partition "Preprocessing" {
fork
:Perform Grammar & Spell Check;
note right
AI-based spell checker corrects\nerrors for better evaluation.
end note
fork again
:Tokenize & Normalize Text;
note right
Standardizes text for consistent\ngrading and comparison.
end note
end fork
:Merge Cleaned & Normalized Answers;
}

partition "Validation" {
:Validate Answer Format & Content;
note right
Checks for empty responses,\ninvalid syntax, or unsupported types.
end note
if (Answer Valid?) then (Yes)
:Proceed to Auto-Grading;
else (No)
:Generate Feedback Message;
note right
Provides guidance on\ninvalid or incomplete submissions.
end note
:Send Feedback to Student;
stop
endif
}

partition "Auto-Grading" {
:Assign Grade & Partial Credit;
note right
AI grading engine calculates scores\nbased on key terms and structure.
end note
:Log Grading Details;
}

partition "Manual Review" {
if (Flagged for Review?) then (Yes)
:Send to Manual Reviewer;
:Reviewer Assigns Final Grade;
note right
Human evaluator reviews\nAI grading for borderline cases.
end note
:Update Grade Sheet;
else (No)
:Skip Manual Review;
endif
}

partition "Feedback & Reporting" {
:Generate Grade Summary & Feedback;
note right
AI feedback generator compiles\ngrades and improvement tips.
end note
:Send Final Grade & Feedback to Student;
:Display Dashboard View;
note right
Students can view scores,\nfeedback, and progress trends.
end note

if (Is feedback satisfactory?) then (Yes)
:Quiz Grading Completed;
stop
else (No)
:Student Requests Re-evaluation;
note right
Re-analysis may be triggered\nfor disputed or unclear results.
end note
--> :Collect Student Responses;
endif
}

@enduml
